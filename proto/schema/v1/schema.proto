syntax = "proto3";

package sonrio.sonr.schema;

import "common/link.proto";

option go_package = "github.com/sonr-io/sonr/x/schema/types";

enum SchemaKind {
  INVALID = 0;
  MAP = 1;
  LIST = 2;
  UNIT = 3;
  BOOL = 4;
  INT = 5;
  FLOAT = 6;
  STRING = 7;
  BYTES = 8;
  LINK = 9;
  STRUCT = 10;
  UNION = 11;
  ENUM = 12;
  ANY = 13;
}

message SchemaKindDefinition {
  string name = 1;
  // Type of a single schema property
  SchemaKind field = 2;

  // Optional field for a link context if `SchemaKind` is of type `Link`
  common.LinkKind link_kind = 3;
}

// Schema defines the shapes of schemas on Sonr
message SchemaReference {
  // the DID for this schema
  string did = 1;

  // an alternative reference point
  string label = 2;

  // a reference to information stored within an IPFS node.
  string cid = 3;
}

message SchemaDefinition {
  // Represents the types of fields a schema can have
  // the DID for this schema
  string creator = 1;

  // an alternative reference point
  string label = 2;

  // the properties of this schema
  repeated SchemaKindDefinition fields = 3;
}
